<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Octra Web Wallet</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="popup-root" class="popup-container">
    <!-- Loading State -->
    <div id="loading-state" class="loading-container">
      <div class="loading-spinner"></div>
      <p>Loading Octra Wallet...</p>
    </div>

    <!-- Wallet Locked State -->
    <div id="locked-state" class="wallet-state" style="display: none;">
      <div class="wallet-header">
        <div class="wallet-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
        </div>
        <h1>Octra Wallet</h1>
        <p class="subtitle">Wallet is locked</p>
      </div>
      
      <div class="unlock-form">
        <div class="input-group">
          <label for="password">Password</label>
          <div class="password-input">
            <input type="password" id="password" placeholder="Enter your password">
            <button type="button" id="toggle-password" class="toggle-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
              </svg>
            </button>
          </div>
        </div>
        
        <button id="unlock-btn" class="primary-btn" disabled>
          <span class="btn-text">Unlock Wallet</span>
          <div class="btn-spinner" style="display: none;"></div>
        </button>
      </div>
      
      <div class="popup-footer">
        <button id="expand-btn" class="secondary-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2"/>
          </svg>
          Open Full Wallet
        </button>
      </div>
    </div>

    <!-- No Wallet State -->
    <div id="no-wallet-state" class="wallet-state" style="display: none;">
      <div class="wallet-header">
        <div class="wallet-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
        </div>
        <h1>Octra Wallet</h1>
        <p class="subtitle">Get started with Octra</p>
      </div>
      
      <div class="action-buttons">
        <button id="create-wallet-btn" class="primary-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 8v8m-4-4h8" stroke="currentColor" stroke-width="2"/>
          </svg>
          Create New Wallet
        </button>
        
        <button id="import-wallet-btn" class="secondary-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
            <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
          </svg>
          Import Wallet
        </button>
      </div>
      
      <div class="popup-footer">
        <button id="expand-btn-no-wallet" class="secondary-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2"/>
          </svg>
          Open Full Wallet
        </button>
      </div>
    </div>

    <!-- Wallet Active State -->
    <div id="active-state" class="wallet-state" style="display: none;">
      <div class="wallet-header compact">
        <div class="wallet-info">
          <div class="wallet-icon small">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="wallet-details">
            <h2 id="wallet-address">oct...</h2>
            <div class="wallet-status">
              <span class="status-dot"></span>
              <span>Connected</span>
            </div>
          </div>
        </div>
        
        <div class="wallet-actions">
          <button id="copy-address-btn" class="icon-btn" title="Copy Address">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
          
          <button id="refresh-btn" class="icon-btn" title="Refresh Balance">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <polyline points="23,4 23,10 17,10" stroke="currentColor" stroke-width="2"/>
              <polyline points="1,20 1,14 7,14" stroke="currentColor" stroke-width="2"/>
              <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="balance-section">
        <div class="balance-card">
          <div class="balance-header">
            <span class="balance-label">Total Balance</span>
            <div class="balance-badges">
              <span class="badge" id="nonce-badge">Nonce: 0</span>
            </div>
          </div>
          <div class="balance-amount">
            <span id="balance-value">0.00000000</span>
            <span class="currency">OCT</span>
          </div>
          
          <div class="balance-breakdown">
            <div class="balance-item">
              <span class="label">Public</span>
              <span class="value" id="public-balance">0.00000000 OCT</span>
            </div>
            <div class="balance-item">
              <span class="label">Private</span>
              <span class="value" id="private-balance">0.00000000 OCT</span>
            </div>
          </div>
        </div>
      </div>

      <div class="quick-actions">
        <button id="send-btn" class="action-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <line x1="22" y1="2" x2="11" y2="13" stroke="currentColor" stroke-width="2"/>
            <polygon points="22,2 15,22 11,13 2,9 22,2" stroke="currentColor" stroke-width="2"/>
          </svg>
          Send
        </button>
        
        <button id="receive-btn" class="action-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <polyline points="22,12 18,12 15,21 9,3 6,12 2,12" stroke="currentColor" stroke-width="2"/>
          </svg>
          Receive
        </button>
        
        <button id="history-btn" class="action-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2"/>
          </svg>
          History
        </button>
      </div>

      <div class="recent-activity" id="recent-activity" style="display: none;">
        <h3>Recent Activity</h3>
        <div class="activity-list" id="activity-list">
          <!-- Activity items will be populated here -->
        </div>
      </div>

      <div class="popup-footer">
        <button id="expand-btn-active" class="secondary-btn full-width">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2"/>
          </svg>
          Open Full Wallet
        </button>
        
        <button id="lock-wallet-btn" class="secondary-btn full-width">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="16" r="1" stroke="currentColor" stroke-width="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2"/>
          </svg>
          Lock Wallet
        </button>
      </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast" style="display: none;">
      <div class="toast-content">
        <span id="toast-message"></span>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>